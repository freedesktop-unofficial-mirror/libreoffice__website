<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Installing and using the OO SDK</title>
  </head>

  <body>    
    <h2>Installing and using the OO SDK</h2>
    <h3>1.0 Introduction</h3>
    <p>The OpenOffice.org SDK allows you to create components (e.g.: file filters) that interact with
      the OpenOffice suite without going through the pain of building them against the main OpenOffice tree.
      Unfortunately, the default set up of the SDK doesn't work perfectly (or, at least, it didn't work for me).
      This document aims at providing a walkthrough of the steps necessary to get the SDK working correctly: 
      hopefully future versions of the OO SDK will render this document obsolete.</p>
    <p>This document covers both version 1.0.1 (stable) and 643 (CVS SRX643). It only
      covers the GNU/Linux environment because, well, that's what the author uses (Debian/Unstable). Your feedback on 
      on using the SDK in other environments is welcomed.</p>
    <h3>2.0 Getting it</h3>
    <p><b>OpenOffice 1.0.1</b><br>
    Get it from the <a href="http://www.openoffice.org/dev_docs/source/1.0.1/index.html">OpenOffice downloads area</a>.</p>
    <p><b>OpenOffice 643 (CVS)</b><br>
    It can be built off of your source release. After building OpenOffice proper (see the 
      <a href="http://ooo.ximian.com/hackers-guide.html">unofficial hacker's guide</a>), build the following 
      modules in order: xmlwww, udkwww, apiwww, odk by running 'build' and 'deliver' in their directories.</p>
    <p>After this process, you should have an SDK built in the '&lsaquo;cvsroot&rsaquo;/odk/unxlngi4.pro/bin' with the filename:
	OpenOffice.org1.0.1_alpha_SDK.tar.gz.</p>
    <h3>3.0 Installing it</h3>
    <p> Untar the SDK into an appropriate directory. Run ./configure in this directory and answer the questions (with the exception
      of gcc, the default answers are usually fine). Type './setsdkenv_unix' on the commandline to setup the paths.</p>
    <p>Here's the tricky part: you <i>must</i> be using gcc version 3.0.x or greater. After setting up the paths, do a 'gcc -v'
      on the command line. If the number you get is less than 3, you may have to install a new copy of gcc3.0 in another directory
      (e.g.: '/opt/OpenOffice'). See the <a href="http://ooo.ximian.com/hackers-guide.html">unofficial hacker's guide</a> for details on
      this.</p>
    <p>If you opt to go the custom route, you have to make sure that your java/ant paths aren't over-riding the gcc setting. If, for 
      example, you set your java path to '/usr', then that setting (the completion of which is '/usr/bin') will take precedence over your
      new gcc path. You have two options: either (1) delete your java/ant settings from the 'setsdkenv_unix' file or (2) paste them 
      somewhere else, so the gcc path takes priority. Given that java and OO/Linux is a dicey proposition anyway, I'd probably 
      recommend (1).</p>
    <p>Finally, one of the settings files is not set up correctly. Go to '&lsaquo;SdkRoot&rsaquo;;/settings' and open the file dk.mk in your
	favourite text editor. Change:</p>
    <p>'udkapi.rdb' <i>to</i> 'DKREGISTRYNAME=$(OFFICE_PROGRAM_PATH)$(PS)applicat.rdb'.</p>
    <h3>4.0 Using it</h3>
    <p>Probably the most interesting C++ example provided with the SDK is GenericXMLFilter (although it does lack some important services,
    like deep detection). With a correctly set up SDK, compiling/installing it should be straightforward: simply go to 
    '&lsaquo;SdkRoot&rsaquo;/examples/cpp/GenericXMLFilter/' and execute 'make'. The README file should give instructions on how to install the 
    TypeDetection.xml file so that the GenericXMLFilter is detected properly by OpenOffice. Note, however, that the TypeDetection facility has 
    changed in 643. If you're using that version , you'll want to download this <a href="TypeDetection.xcu">file</a> and place it in 
    '&lsaquo;OpenOfficeRoot&rsaquo;/user/registry/data/org/openoffice/Office'.</p>

    <hr>
    <address><a href="mailto:w_lach@yahoo.ca">William Lachance</a></address>
<!-- Created: Wed Nov 13 14:48:17 EST 2002 -->
<!-- hhmts start -->
Last modified: Wed Dec 4 07:35:21 EST 2002
<!-- hhmts end -->
  </body>
</html>
