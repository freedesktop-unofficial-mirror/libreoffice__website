<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Open Office] Proposal: single apply file for more OOo version
   </TITLE>
   <LINK REL="Index" HREF="http://lists.ximian.com/pipermail/openoffice/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:pmladek%40suse.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000884.html">
   <LINK REL="Next"  HREF="000887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Open Office] Proposal: single apply file for more OOo version
   </H1>
    <B>Petr Mladek
    </B> 
    <A HREF="mailto:pmladek%40suse.cz"
       TITLE="[Open Office] Proposal: single apply file for more OOo version">pmladek@suse.cz
       </A><BR>
    <I>Wed, 30 Mar 2005 19:09:01 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000884.html">[Open Office] Status Mon-Wed
</A></li>
        <LI> Next message: <A HREF="000887.html">[Open Office] Proposal: single apply file for more OOo version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#885">[ date ]</a>
              <a href="thread.html#885">[ thread ]</a>
              <a href="subject.html#885">[ subject ]</a>
              <a href="author.html#885">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

we actually support a lot of src680_m?? versions and there is problem to keep 
the many apply files in sync. Michael has suggested to use one common apply 
file for all src680_m?? sources. Here is a proposal how to do it:

1. All patches and the apply file will be moved to patches/src680/,
so we remove all patches/src680-m??/ directories.

2. The version dependant patches will be renamed to use a version dependant 
suffix. For example, we will have:

patches/src680/filter-nojava.diff
patches/src680/filter-nojava-m82.diff

3. apply file will allow to define an interval of source versions which the 
patches are applied to:

# version independent patches
[TemporaryHacks]

# patches for src680-m80 and higher
[TemporaryHacks:src680-m80]

# patches for src680-m80 and higher but lower than
# src680-m85 (including src680-m85)
[TemporaryHacks:src680-m80,src680-m85]

# patches src680-m85 and lower
[TemporaryHacks:,src680-m85]

It should cover all the typical cases.

4. More directories will be searched for the apply file. The primary path will
be the same as today (based on the source directory name and defined by 
the --with-tag configure switch). The other localizations will be derived the 
following way, for example, the tag is src680_m86:
patches/src680-m86/apply
patches/src680-m8/apply
patches/src680-m/apply
patches/src680-/apply
patches/src680/apply
...
patches/apply

The first found apply file will be used.

This approach is backward compatible and still allows to have a version 
specific apply file.

What do you think about it?

Do you have any reminders, suggestions?

PS: I would like to improve the ooo-build this way on Friday or at the 
beginning of the following week if you do not complain ;-)

-- 
Best Regards,

Petr Mladek
software developer
---------------------------------------------------------------------  
SuSE CR, s.r.o.                             e-mail: <A HREF="mailto:pmladek@suse.cz">pmladek@suse.cz</A>
Drahobejlova 27                             tel:+420 296 542 373 
190 00 Praha 9                              fax:+420 296 542 374   
Czech Republic                              <A HREF="http://www.suse.cz/">http://www.suse.cz/</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000884.html">[Open Office] Status Mon-Wed
</A></li>
	<LI> Next message: <A HREF="000887.html">[Open Office] Proposal: single apply file for more OOo version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#885">[ date ]</a>
              <a href="thread.html#885">[ thread ]</a>
              <a href="subject.html#885">[ subject ]</a>
              <a href="author.html#885">[ author ]</a>
         </LI>
       </UL>
</body></html>
