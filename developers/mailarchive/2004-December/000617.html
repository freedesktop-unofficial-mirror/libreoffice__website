<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Open Office] ooo-build-1.3.7: build error in vcl/util
   </TITLE>
   <LINK REL="Index" HREF="http://lists.ximian.com/pipermail/openoffice/2004-December/index.html" >
   <LINK REL="made" HREF="mailto:h.mth%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000614.html">
   <LINK REL="Next"  HREF="000623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Open Office] ooo-build-1.3.7: build error in vcl/util
   </H1>
    <B>Hanno Meyer-Thurow
    </B> 
    <A HREF="mailto:h.mth%40web.de"
       TITLE="[Open Office] ooo-build-1.3.7: build error in vcl/util">h.mth@web.de
       </A><BR>
    <I>Thu, 2 Dec 2004 22:57:10 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000614.html">[Open Office] ooo-build-1.3.7: build error in vcl/util
</A></li>
        <LI> Next message: <A HREF="000623.html">[Open Office] ooo-build-1.3.7: build error in vcl/util
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#617">[ date ]</a>
              <a href="thread.html#617">[ thread ]</a>
              <a href="subject.html#617">[ subject ]</a>
              <a href="author.html#617">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 02 Dec 2004 21:26:00 +0100
J=FCrg Billeter &lt;<A HREF="mailto:j@bitron.ch">j@bitron.ch</A>&gt; wrote:

This is known.
As I know is this a binutils-2.15 feature of '-z defs'. In gcc34.main.diff =
should be a diff for vcl/util/makefile.mk to strip that flag. At least here=
 i got a XOOo 1.3.7 but with '--disable-java' because some backports break =
module psprint then. :(

Please do not let me explain that binutils feature - I do not understand it=
. :)


Sincerely,
Hanno

&gt;<i> Hi
</I>&gt;<i>=20
</I>&gt;<i> Yesterday I've tried to build OO.o 1.1.3 with ooo-build-1.3.7 but the
</I>&gt;<i> build broke during project &quot;vcl&quot; with the following messages:
</I>&gt;<i>=20
</I>&gt;<i> ----
</I>&gt;<i>=20
</I>&gt;<i> Making: ../unxlngi4.pro/lib/libvclplug_gtk645li.so
</I>&gt;<i> gcc -c -fPIC -o ../unxlngi4.pro/slo/vclplug_gtk_dflt_version.o -DUNX  -I.=
</I>./unxlngi4.pro/inc /usr/src/ooo-build-1.3.7/build/OOO_1_1_3/solenv/src/vers=
ion.c
&gt;<i> gcc -O2 -Bsymbolic -z combreloc -z defs -shared -L../unxlngi4.pro/lib -L.=
</I>./lib -L/usr/src/ooo-build-1.3.7/build/OOO_1_1_3/solenv/unxlngi4/lib -L/usr=
/src/ooo-build-1.3.7/build/OOO_1_1_3/solver/645/unxlngi4.pro/lib -L/usr/src=
/ooo-build-1.3.7/build/OOO_1_1_3/solenv/unxlngi4/lib -LNO_JAVA_HOME/lib -LN=
O_JAVA_HOME/jre/lib/i386 -LNO_JAVA_HOME/jre/lib/i386/client -LNO_JAVA_HOME/=
jre/lib/i386/native_threads -L/usr/X11R6/lib ../unxlngi4.pro/slo/vclplug_gt=
k_dflt_version.o ../unxlngi4.pro/slo/vclplug_gtk_dflt_description.o -o ../u=
nxlngi4.pro/lib/libvclplug_gtk645li.so ../unxlngi4.pro/slo/gtkdata.o ../unx=
lngi4.pro/slo/gtkinst.o ../unxlngi4.pro/slo/gtksys.o ../unxlngi4.pro/slo/sa=
lnativewidgets-gtk.o ../unxlngi4.pro/slo/gtkframe.o ../unxlngi4.pro/slo/gtk=
object.o -Wl,--export-dynamic -pthread -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.=
0 -lgdk_pixbuf-2.0 -lm -lpangoxft-1.0 -lpangox-1.0 -lpango-1.0 -lgobject-2.=
0 -lgmodule-2.0 -ldl -lgthread-2.0 -lglib-2.0 -lvclplug_gen645li -lvcl645li=
 -lsot645li -lutl645li -ltl645li -lcomphelp3gcc3 -lucbhelper2gcc3 -lcppuhel=
pergcc3 -lcppu -lvos3gcc3 -lsal -lX11 -ldl -ldl -lpthread -lm -Wl,-Bdynamic=
 -lstlport_gcc -lstdc++
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2d84): In function `getFontconfigA=
</I>lias(rtl::OUString const&amp;)': gtkframe.cxx: undefined reference to `FcPatter=
nCreate'
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2dea):gtkframe.cxx: undefined refe=
</I>rence to `FcPatternAdd' ../unxlngi4.pro/slo/gtkframe.o(.text+0x2e28):gtkfra=
me.cxx: undefined reference to `FcPatternAddWeak'
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2e40):gtkframe.cxx: undefined refe=
</I>rence to `FcConfigSubstitute'
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2e48):gtkframe.cxx: undefined refe=
</I>rence to `FcDefaultSubstitute'
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2e62):gtkframe.cxx: undefined refe=
</I>rence to `FcFontMatch'
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2e9b):gtkframe.cxx: undefined refe=
</I>rence to `FcPatternGetString'
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2eff):gtkframe.cxx: undefined refe=
</I>rence to `FcPatternDestroy'
&gt;<i> ../unxlngi4.pro/slo/gtkframe.o(.text+0x2f07):gtkframe.cxx: undefined refe=
</I>rence to `FcPatternDestroy'
&gt;<i> collect2: ld returned 1 exit status
</I>&gt;<i> dmake:  Error code 1, while making '../unxlngi4.pro/lib/libvclplug_gtk645=
</I>li.so'
&gt;<i> ---* TG_SLO.MK *---
</I>&gt;<i>=20
</I>&gt;<i> ERROR: Error 65280 occurred while making /usr/src/ooo-build-1.3.7/build/O=
</I>OO_1_1_3/vcl/util
&gt;<i> make: *** [stamp/build] Error 1
</I>&gt;<i>=20
</I>&gt;<i> ----
</I>&gt;<i>=20
</I>&gt;<i> I was using gcc 3.4.3 on a nptl linux 2.6.9 machine (with all of the
</I>&gt;<i> partly merged gentoo-originated gcc-3.4 patches, including stlport
</I>&gt;<i> 4.6.2) but this error doesn't seem related to the used gcc version.
</I>&gt;<i>=20
</I>&gt;<i> Building OO.o 1.1.3 with ooo-build-1.3.6 and gcc 3.3.5 does work with
</I>&gt;<i> the same configuration (no java, no bonobo, system freetype, fontconfig
</I>&gt;<i> and gtk enabled). Didn't have time yet to test ooo-build-1.3.7 with gcc
</I>&gt;<i> 3.3.5.
</I>&gt;<i>=20
</I>&gt;<i> Has anyone experienced similar problems or got a guess what's causing
</I>&gt;<i> it?
</I>&gt;<i>=20
</I>&gt;<i> Thanks
</I>&gt;<i>=20
</I>&gt;<i> J=FCrg
</I>&gt;<i>=20
</I>&gt;<i> --=20
</I>&gt;<i> J=FCrg Billeter &lt;<A HREF="mailto:j@bitron.ch">j@bitron.ch</A>&gt;
</I>&gt;<i>=20
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Openoffice mailing list
</I>&gt;<i> <A HREF="mailto:Openoffice@lists.ximian.com">Openoffice@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/openoffice">http://lists.ximian.com/mailman/listinfo/openoffice</A>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000614.html">[Open Office] ooo-build-1.3.7: build error in vcl/util
</A></li>
	<LI> Next message: <A HREF="000623.html">[Open Office] ooo-build-1.3.7: build error in vcl/util
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#617">[ date ]</a>
              <a href="thread.html#617">[ thread ]</a>
              <a href="subject.html#617">[ subject ]</a>
              <a href="author.html#617">[ author ]</a>
         </LI>
       </UL>
</body></html>
