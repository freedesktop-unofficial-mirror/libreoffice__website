<?php

function print_page($title, $context, $heading, $content, $subtabs = array())
{
        // hnave values are as follow
        //  - the URL path (relative if possible)
        //  - the label as used in tabs and the navigation
        //  - (optional) the id of the tab it is under, this is for subsections
	$hnav = array( "summary" => array("/", "Home"),
			"home" => array("/", "Home"),
			"download" => array("http://www.libreoffice.org/download/", "Download"),
			"developers" => array("http://www.libreoffice.org/developers/", "Developers"),
			"mailarchive" => array("/developers/mailarchive",
                                               "Mail archive", "developers"),
			);
        // tabs state. the all have the "container" value
	// and the current one MUST have the "selected" value
	// this is all dependent on ths CSS used.
	$tabs = array ( "summary" => "container",
	       	       	 "download" => "container",
			 "developers" => "container" );

	$id = "summary";
	foreach ($context as $c) {
		if (array_key_exists ($c, $tabs)) {
			$id = $c;
			break;
		}
	}
	// the current tab is selected
	$tabs[$id] = "selected";
?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head>
        <title><?php print $heading; ?></title>
        <style type="text/css">
            @import url(/css/blueprint/print.css) print;
            @import url(/css/blueprint/screen.css) screen;
            @import url(/css/tabs.css);
            @import url(/css/style.css);
        </style>
    </head>
    <body>
<!-- DO NOT EDIT ! the html is generated by PHP. Edit the PHP instead -->
        <div id="wrap">

            <div id="header">
                <h1><a href="/">Go-OO</a></h1>
            </div>
            <div id="container">
                <ul id="nav">
<?php
			foreach($tabs as $key => $value)
			{
				$link = $hnav[$key];
				echo "<li class=\"tabs-$value\"><a href=\"$link[0]\">$link[1]</a></li>\n";

			}
		?>
                </ul>
                <div id="tagline">
                        <a href="http://www.libreoffice.org">LibreOffice is now Better, Faster, Free-er</a>
                </div>
<?php
		if (count ($subtabs) > 0) {
			echo "<ul id=\"hnav\">\n";

			foreach($subtabs as $key => $value) {
				echo "<li><a";
				if (!is_array ($value) ) {
					echo " href=\"$value\"";
				}
				else {
					ksort ($value);
					foreach ($value as $an => $av) {
						echo " $an=\"$av\"";
					}
				}
				echo ">$key</a></li>\n";
			}
			echo "</ul>\n";
		}
?>

                <div class="container">
                    <div id="splash">
                        <h2><?php print $heading; ?></h2>
			<?php print $content . "\n"; ?>
                    </div>
                </div>

            </div>

            <div id="sidebar">
                <div class="text">
                    open office<br />
                    development
                </div>
            </div>

        </div>
    </body>
</html>

<?php
}
?>
